# =============================================================================
# Classmoji Environment Variables
# =============================================================================
# SETUP INSTRUCTIONS:
#   1. Copy this file: cp .env.example .env
#   2. Generate secrets (see commands below)
#   3. Run: npm run dev
#
# Most features work with default values below
# =============================================================================

# Generate auth secrets with these commands:
#   BETTER_AUTH_SECRET: openssl rand -base64 32
# =============================================================================

# -----------------------------------------------------------------------------
# Core Development Setup
# -----------------------------------------------------------------------------

# Environment
NODE_ENV="development"
MODE="development"

# Database (provided by docker-compose â€” no changes needed if using Docker)
DATABASE_URL="postgresql://classmoji:classmoji@localhost:5433/classmoji"

# Auth session signing
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET="change-me-to-random-32-chars"
BETTER_AUTH_URL="http://localhost:3000"

# App URLs
HOST_URL="http://localhost:3000"
WEBAPP_URL="http://localhost:3000"
SLIDES_URL="http://localhost:6500"
PAGES_URL="http://localhost:7100"

# -----------------------------------------------------------------------------
# AI Features (Optional - Private Submodule)
# -----------------------------------------------------------------------------
# Only needed if you have access to the ai-agent submodule.
# When empty: AI features (quizzes, syllabus bot) are automatically disabled
# and hidden from UI.

AI_AGENT_URL="http://localhost:6000"
AI_AGENT_SHARED_SECRET=""

# AI Provider API Keys (optional)
ANTHROPIC_API_KEY=""
OPENAI_API_KEY=""

# LLM Configuration (optional)
LLM_PROVIDER=""
LLM_MODEL=""

# Exploration/Quiz settings (optional)
EXPLORATION_MODE="trigger"
EXPLORATION_MODEL="claude-haiku-4-5-20251001"

# -----------------------------------------------------------------------------
# GitHub App Integration (Optional)
# -----------------------------------------------------------------------------
# Create a GitHub App: https://github.com/settings/apps
# Set callback URL to: http://localhost:3000/api/auth/callback/github
#
# When empty: Uses mock GitHub data, UI still works for development
# Features that need this: GitHub login, repo creation, webhooks
# NOTE: Code expects these exact variable names

GITHUB_APP_NAME=""
GITHUB_APP_ID=""
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""
GITHUB_WEBHOOK_SECRET=""

# GitHub App private key (PEM format from GitHub App settings)
# Can also use base64-encoded version with GITHUB_PRIVATE_KEY_BASE64
GITHUB_PRIVATE_KEY=""
GITHUB_PRIVATE_KEY_BASE64=""

# GitHub test tokens for different roles (optional - for testing)
GITHUB_PROF_TOKEN=""
GITHUB_INSTRUCTOR_TOKEN=""
GITHUB_TA_TOKEN=""
GITHUB_STUDENT_TOKEN=""

# -----------------------------------------------------------------------------
# Payments - Stripe (Optional)
# -----------------------------------------------------------------------------
# Only needed for subscription/payment features
# When empty: Pro features available for free in development

STRIPE_SECRET_KEY=""
STRIPE_WEBHOOK_SECRET=""

# -----------------------------------------------------------------------------
# Email (Optional)
# -----------------------------------------------------------------------------
# For sending email notifications
EMAIL=""
EMAIL_PASSWORD=""

# -----------------------------------------------------------------------------
# Background Jobs - Trigger.dev (Optional)
# -----------------------------------------------------------------------------
# Only needed for async workflows and background jobs.
# Create account: https://trigger.dev
# When empty: Jobs run synchronously (slower but works)

TRIGGER_API_URL=""
TRIGGER_SECRET_KEY=""

# -----------------------------------------------------------------------------
# Infisical Secret Management (Optional - For Trigger.dev Deployments)
# -----------------------------------------------------------------------------
# Only needed for automatic secret syncing during Trigger.dev deployments.
# Local development uses .env file directly (doesn't need these).
#
# Setup:
#   1. Create a Universal Auth identity in Infisical for your workspace
#   2. Set the credentials below
#   3. On deployment, Trigger.dev will auto-sync all secrets from Infisical
#
# Workspace ID: e9a6487c-350e-41e7-8bba-2d95ca5934a6
# Environment: prod (all Trigger.dev environments use prod for now)
# When empty: Trigger.dev deployments use manually set environment variables

INFISICAL_CLIENT_ID=""
INFISICAL_CLIENT_SECRET=""
INFISICAL_PROJECT_ID="e9a6487c-350e-41e7-8bba-2d95ca5934a6"
INFISICAL_HOST="https://app.infisical.com"

# -----------------------------------------------------------------------------
# Media / Cloudinary (Optional)
# -----------------------------------------------------------------------------
# For image uploads
CLOUDINARY_CLOUD_NAME=""
CLOUDINARY_API_KEY=""
CLOUDINARY_API_SECRET=""

# -----------------------------------------------------------------------------
# Other Services
# -----------------------------------------------------------------------------

# Calendar integration
CALENDAR_SECRET=""
